'use strict'
//Задача №4 урок 5
/*Напишите функцию calculate(), которая вычисляет стоимость корзины товаров после применения всех акций и скидок.
В качестве аргументов функция принимает 3 параметра:
Общая сумма корзины
Количество товаров в корзине
Промокод
Правила и порядок (порядок важен!) начисления скидок:
Если товаров больше 10, то ко всей сумме применяется скидка 3% ко всей сумме;
При сумме, превышающей 30 000, применяется скидка 15% к сумме превышения
Если промокод равен "METHED", то скидка 10%
Если промокод равен "G3H2Z1", то скидка 500 рублей, но только если сумма  корзины после предыдущих скидок превышает 2000р

Порядок применения скидок должен соблюдаться*/

//let sum = 45000;
//let count = 12;
//let promo = 'G3H2Z1';

const calculate = (sum, count, promo) => {
    let result = sum;
    if (count > 10) {
        result = sum - sum * 0.03;
    } 
    if(result >= 30000){
        result = result - (result - 30000) * 0.15;
    }
    if(promo === 'METHED') {
        result = result - result * 0.1;
    } else if ( promo === 'G3H2Z1' && result > 2000) {
        result -= 500;
    };
    return result;
}

console.log(calculate(45000, 15, 'METHED'));
